<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>看图识字</title>
    <style>
        body {
            display: flex;
            justify-content: space-around;
        }

        #leftBox {
            border: solid 2px black;
            flex-basis: 30%;
        }

        #rightBox {
            height: 730px;
            flex-basis: 460px;
            border: solid 2px black;
            background-image: url(images/看图识字.png);
        }

        /* 表格一定要和图片对应上 */
        table {
            width: 420px;
            height: 620px;
            border: solid 2px black;
            margin-left: 21px;
            margin-top: 80px;
            border-collapse: collapse;
        }

        tr {
            height: 25%;
        }

        td {
            border: solid 2px black;
            width: 25%;
            text-align: center;
            vertical-align: bottom;
        }
    </style>
</head>

<body>
    <div id="leftBox">
        <!-- data-index 数据的索引 -->
        <img src="images/1.png" alt="" data-index="1">
        <img src="images/2.png" alt="" data-index="2">
        <img src="images/3.png" alt="" data-index="3">
        <img src="images/4.png" alt="" data-index="4">
        <img src="images/5.png" alt="" data-index="5">
        <img src="images/6.png" alt="" data-index="6">
        <img src="images/7.png" alt="" data-index="7">
        <img src="images/8.png" alt="" data-index="8">
        <img src="images/9.png" alt="" data-index="9">
        <img src="images/10.png" alt="" data-index="10">
        <img src="images/11.png" alt="" data-index="11">
        <img src="images/12.png" alt="" data-index="12">
        <img src="images/13.png" alt="" data-index="13">
        <img src="images/14.png" alt="" data-index="14">
        <img src="images/15.png" alt="" data-index="15">
        <img src="images/16.png" alt="" data-index="16">
    </div>
    <div id="rightBox">
        <table>
            <tr>
                <td data-index="1"></td>
                <td data-index="2"></td>
                <td data-index="3"></td>
                <td data-index="4"></td>
            </tr>
            <tr>
                <td data-index="5"></td>
                <td data-index="6"></td>
                <td data-index="7"></td>
                <td data-index="8"></td>

            </tr>
            <tr>
                <td data-index="9"></td>
                <td data-index="10"></td>
                <td data-index="11"></td>
                <td data-index="12"></td>
            </tr>
            <tr>
                <td data-index="13"></td>
                <td data-index="14"></td>
                <td data-index="15"></td>
                <td data-index="16"></td>
            </tr>
        </table>
    </div>
</body>
<script src="jquery.js"></script>
<script>
    $(document).on("dragover drop", function (e) {
        e.preventDefault();
        e.stopImmediatePropagation();
    })
    // $(document).on("drop", function (e) {
    //     e.stopImmediatePropagation();
    //     e.preventDefault();
    // });
    //1.左侧图可以拖拽  右侧单元格可以进行监听
    //2.当放下去的时候进行对应的 data-index匹配
    // 3.成功从左侧把图删掉 右侧放上去，失败则返回左侧
    //4.然后刷新
    // forEach快速遍历数组中的对象
    var dragImg =null;
    $("img").each(function (index, element) {
        this.ondragstart =function(e){
            dragImg =this;
        }
        
    });
    
    // td添加监听
    $("td").each(function(index, element){
        this.ondrop =function(e){
            // 当前落下的td
            // dataset数据集
            if (this.dataset.index ==dragImg.dataset.index) {
                this.append(dragImg);
            } 
        }
    });

    // 2.随机装元素 0~~15
    var controlArray =[];
    for(var i=0;i<16;i++){
        controlArray[i] =i;
    }
    for(var i=0;i<$("img").length;i++){
        // 随机生成索引""重复" 6
        var ind =Math.floor(Math.random()*controlArray.length);
        var $img =$("img")[controlArray[ind]];
        // 添加
        $("#leftBox").append($img);
        // 删除数组中的索引 splice根据索引删除数组中的值
        controlArray.splice(ind,1);
    }
</script>

</html>