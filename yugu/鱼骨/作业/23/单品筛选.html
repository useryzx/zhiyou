<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body,
        ul {
            margin: 0;
            padding: 0;
        }

        ul {
            list-style: none;
        }

        a {
            text-decoration: none;
        }

        .warpper section {
            border-bottom: 1px dotted gray;
            overflow: hidden;
            line-height: 50px;
        }

        section strong {
            float: left;
            width: 9%;
            text-align: justify;
        }

        section ul {
            width: 87%;
            float: left;
        }

        section ul li {
            display: inline-block;
            padding: 0 10px;
            color: blue;
            cursor: pointer;
            font-size: 14px;
        }

        .clear {
            color: orangered;
            margin-left: 20px;
            font-size: 14px;
            display: none;
        }

        section ul li.selected {
            color: red;
        }

        .choosed span {
            display: none;
            line-height: 35px;
            padding: 0 15px;
            border: solid 1px olivedrab;
            font-size: 14px;
        }

        .choosed i {
            font-style: normal;
            background: darkgoldenrod;
            padding: 0 10px;
            line-height: 25px;
            display: inline-block;
            margin-left: 15px;
        }
    </style>
</head>

<body>
    <div class="warpper">
        <section>
            <strong>品&nbsp;&nbsp;&nbsp;&nbsp;牌：</strong>
            <ul>
                <li>苹果</li>
                <li>华为</li>
                <li>魅族</li>
                <li>小米</li>
                <li>锤子</li>
                <li>OPPO</li>
                <li>VIVO</li>
                <li>联想</li>
                <li>三星</li>
                <li>诺基亚</li>
                <li>一加</li>
                <li>中兴</li>
                <li>海信</li>
                <li>8848</li>
                <li>美图秀秀</li>
                <li>HTC</li>
                <li>酷派</li>
                <li>乐视</li>
            </ul>
        </section>
        <section>
            <strong>价格范围：</strong>
            <ul>
                <li>1-499</li>
                <li>499-799</li>
                <li>799-1799</li>
                <li>1799-10000</li>
            </ul>
        </section>
        <section>
            <strong>操作系统：</strong>
            <ul>
                <li>IOS</li>
                <li>安卓</li>
                <li>塞班</li>
            </ul>
        </section>
        <section>
            <strong>优惠活动：</strong>
            <ul>
                <li>存话费送手机</li>
                <li>买手机送话费</li>
                <li>老用户优惠购机(支持合约到期提前续约)</li>
                <li>只买手机</li>
            </ul>
        </section>
        <section>
            <strong>特&nbsp;&nbsp;点：</strong>
            <ul>
                <li>双卡双待</li>
                <li>千元智能机</li>
                <li>大屏</li>
            </ul>
        </section>
        <section>
            <strong>您已选择：</strong>
            <div class="choosed">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <a class="clear" href="">一键清除选项</a>
            </div>
        </section>
    </div>
</body>
<script>
    /*1.鼠标点击选项时，当前选项样式要发生改变其他不变
    2.将选中的内容添加到指定的位置
    */
    var sections = document.querySelectorAll("section");
    var spans = document.querySelectorAll(".choosed span");
    var aTag = document.querySelector(".choosed a");
    for (var i = 0; i < sections.length - 1; i++) {
        var lis = sections[i].children[1].children;
        for (var j = 0; j < lis.length; j++) {
            lis[j].index = j;
            lis[j].secIndex = i;
            // 绑定事件
            lis[j].onclick = function (e) {
                var lisNow = this.parentNode.children;
                for (var m = 0; m < lisNow.length; m++) {
                    lisNow[m].className = "";
                }
                this.className = "selected";
                spans[this.secIndex].innerHTML = this.innerHTML + "<i>X</i>";
                spans[this.secIndex].style.display = "inline-block";

                for (var n = 0; n < spans.length; n++) {
                    var iTag = spans[n].children[0];
                    if (iTag) {
                        iTag.spanIndex = n;
                        iTag.onclick = function (e) {
                            this.parentNode.style.display = "none";
                            this.parentNode.innerHTML = "";
                            var secLis = sections[this.spanIndex].children[1].children;
                            for (var k = 0; k < secLis.length; k++) {
                                secLis[k].className = "";
                            }
                            show();
                        }
                    }
                }
                function show() {
                    console.log("**");

                    var iLength = document.querySelectorAll(".choosed i");
                    console.log(iLength);

                    if (iLength.length >= 2) {
                        aTag.style.display = "inline-block";
                    }
                    else {
                        aTag.style.display = "none";
                    }
                }
                show();
            }
        }
    }
    aTag.onclick = function (e) {
        e.preventDefault();
        for(var i =0;i<spans.length;i++){
            spans[i].style.display = "none";
            spans[i].innerHTML = "";
            var lis = sections[i].children[1].children;
            for(var j = 0;j<lis.length;j++){
                lis[j].className = "";
            }
        }
        this.style.display = "none";
    }
</script>

</html>