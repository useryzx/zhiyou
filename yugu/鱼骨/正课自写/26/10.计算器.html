<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        html,
        body {
            height: 100%;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        main {
            text-align: center;
        }

        span {
            cursor: pointer;
            display: inline-block;
            width: 40px;
            height: 40px;
            border: gray 1px solid;
            text-align: center;
            line-height: 40px;
        }

        .show {
            font-size: 50px;
            background-color: #ccc;
        }
    </style>
</head>

<body>
</body>
<script src="jquery.js"></script>
<script>
    var $main = "<main><div class= 'show'>0</div>";
    for (var i = 0; i < 10; i++) {
        $main += "<span>" + i + "</span>";
    }
    $main += "</main>";
    $("body").append($main);
    $("main").append("<div><span>+</span><span>-</span><span>*</span><span>/</span><span>c</span><span>=</span></div>");
    // 记录当前输入值
    var $a = 0;
    // 记录上次计算值
    var $b = 0;
    // 记录输入符号
    var $c;
    // 决定是否要运算
    var $i = 0;
    $("span").click(function (e) {
        switch ($(this).html()) {
            case "c":
                $(".show").html("0");
                $a = 0;
                $b = 0;
                $i = 0;
                $c="";
                break;
            case "=":
                switch ($c) {
                    case "+":
                        $b = $b * 1 + ($a * 1);
                        break;
                    case "-":
                        $b = $b - $a;
                        break;
                    case "*":
                        $b = $b * $a;
                        break;
                    case "/":
                        $b = $b / $a;
                        break;
                    default:
                        break;
                }
                $(".show").html($b * 1);
                $a = 0;
                $b = 0;
                $i = 0;
                break;
            case "+":
                
                if ($i == 0) {
                    $b = $a;
                    $a = 0;
                    $(".show").html($b * 1);
                }
                if ($i > 0) {
                    $b = $b * 1 + ($a * 1);
                    $(".show").html($b * 1);
                    $a = 0;
                }
                $i++;
                $c = "+";
                break;
            case "-":
                
                if ($i == 0) {
                    $b = $a;
                    $a = 0;
                    $(".show").html($b * 1);
                }
                if ($i > 0) {
                    $b = $b * 1 - ($a * 1);
                    $(".show").html($b * 1);
                    $a = 0;
                }
                $i++;
                $c = "-";
                break;
            case "*":
                
                if ($i == 0) {
                    $b = $a;
                    $a = 0;
                    $(".show").html($b * 1);
                }
                if ($i > 0) {
                    $b = $b * 1 * ($a * 1);
                    $(".show").html($b * 1);
                    $a = 0;
                }
                $i++;
                $c = "*";
                break;
            case "/":
                
                if ($i == 0) {
                    $b = $a;
                    $a = 0;
                    $(".show").html($b * 1);
                }
                if ($i > 0) {
                    console.log("**");
                    $b = $b * 1 / ($a * 1);
                    $(".show").html($b * 1);
                    $a = 0;
                }
                $i++;
                $c = "/";
                break;
            default:
                $a += $(this).html();
                $(".show").html($a * 1);
                break;
        }
    })


</script>

</html>