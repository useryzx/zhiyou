<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>原始值和引用值的复制与赋值</title>
</head>
<body>
</body>
<script>
    var str1 ='abc';//赋值
    // 原始值的复制过程中,传递的是值本身
    var str2 =str1;//复制
    str1 ='aaa';//再赋值
    console.log(str2);
   //引用值在 复制中，传递的是指针的方向，指针所指的方向是内存
//    存储数据的地址,只要有一个操作处理，都会影响数据本身
    var arr1 =[];
    var arr2 =arr1;
    arr1.push(1);
    console.log(arr2);
    
//   数组的复制
   var arr1 =[1,true,'zifu',15];
   var arr2 =[];
//    把arr1的值赋值给arr2 (复制)
   for(var i=0;i<arr1.length;i++)
   {
    //    值与值的复制，但是处理数据的时候  互不影响
       arr2.push(arr1[i]);
   }
    
    arr1.push(100);
    console.log(arr2);
    console.log(arr1);
    console.log(arr2);

    // 对象的复制 :对象也被成为关联数组
    var obj1 ={
        name:'张三',
        age:19,
        isMale:true
    }
    var obj2 ={};
    // forin循环可以理解我快速的遍历对象的循环
    // 会快速的查找到对象中的属性(key),可以根据key
    // 取对象的value
    for (var key in obj1) {
       obj2[key] =obj1[key];
    }
    console.log(obj2);
    obj2.name ='阿欢';
    console.log(obj1);

    var arr3 =[];
    // 对于数组的for in  ins代表索引
    for (var ins in arr1) {
        arr3[ins] =arr1[ins];
    }
    // 在进行复制的需要知道是数组还是对象
    console.log( typeof arr1);//obj
    console.log( typeof obj1);//obj
    // instanceof 判断前者是否是后者的具体类型
    console.log(arr1 instanceof Array);//true
    console.log(obj1 instanceof Array);//false
    // 不知道数据的类型，但是知道是个对象(Array,Object)
    var arr4 =[1,2,3,[15,20,22]];
    // 浅复制  
    function copy(oldObj){
        // 数组返回数组  对象返回对象
        var newObj =(oldObj instanceof Array)? [] : {};
        // 对于数组 for in遍历的是索引 
        // 对于对象 for in遍历的是属性
        for(var ins in oldObj)
        {
            // 处理的值全部都是原始类型
            //1,2,3,
            newObj[ins] =oldObj[ins];
        }
        return newObj;
    }
    var arr5= copy(arr4);
    // 值如果也是引用类型  ---深复制
    arr4[3].push('hello');
    console.log(arr5);
   

    //处理的值全部都是原始类型 ---浅复制(只复制值)>>
    // 值如果有引用类型的时候   ---深复制(有可能会复制指针)
    
   
    
</script>
</html>