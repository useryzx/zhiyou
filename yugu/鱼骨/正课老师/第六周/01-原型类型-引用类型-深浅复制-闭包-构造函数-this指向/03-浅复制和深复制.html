<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>浅复制和深复制</title>
</head>
<body>
<script>
    // 深浅复制，解决的是引用类型在复制过程中只是指针或地址的复制，复制出来的变量仍然会受原有变量的影响
    // 通过深浅复制方法处理出来的变量，是独立的，互不干扰的，

    var arr = [1, true, 'zfu'];
    var obj = {};
    // 浅复制：值都为原始类型
    function lightCopy(copyVal, newVal ){
        newVal = ( copyVal instanceof Array ) ? [] : {};

        for( var ins in copyVal ){
            newVal[ins] = copyVal[ins];
        }

        return newVal;
    }

    // 如果值有引用类型呢
    var arr1 = [1, 2, 3, [4, 5], {name:'张三'}];
    var arr2 = lightCopy(arr1);
//    arr1[3].push(6);
//    console.log( arr2 );

    function deepCopy(copyVal, newVal){
        newVal = ( copyVal instanceof Array ) ? [] : {};

        for( var ins in copyVal ){

            if( typeof copyVal[ins] != 'object' ){
//                console.log( copyVal[ins] );
                newVal[ins] = copyVal[ins];
            } else {

                newVal[ins] = deepCopy(copyVal[ins]);
            }

        }
        // newVal = [];
        // newVal[0] = 1, newVal[1] = 2, newVal[2] = 3; newVal[3] = deepCopy( [4,5] )
        return newVal;
    }
    deepCopy(arr1);


</script>
</body>
</html>