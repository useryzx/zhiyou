<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <label for="numField">num:</label><br>
    <input type="text" id="num-field"><br><br>
    <button onclick="saveBtnClick()">存储num</button><br>
    <button onclick="readBtnClick()">读取本地num</button><br>
    <input type="text" id="num-read"><br><br>
</body>
<script>
    const numField = document.getElementById("num-field")
    const numRead = document.getElementById("num-read")


    let o = {
        "a": 1
    }
    alert(JSON.stringify(o))

    function saveBtnClick() {
        // localStorage本地存储对象，h5新增的webAPI
        // 本地存储的数据是按照同源策略分别存储的，每个域下存储数据的容量一般为5MB左右
        // localStorage.setItem向本地存储中存储进一个数据，第一个参数是key,第二个参数是value。存储的值只能是字符串，如果参数不是字符串，则会强制转为字符串并存储。如果要存储一个对象，则需要转为JSON字符串之后再存储。
        localStorage.setItem("num", numField.value);
    }

    function readBtnClick() {
        let n = localStorage.getItem("num");
        numRead.value = n;
    }
    // localStorage.setItem("num", undefined);未删除
    // localStorage.removeItem("num")
    // 清空本域下的所有缓存数据
    // localStorage.clear()
    // 本地存储数据条数
    // localStorage.length
    for (let index = 0; index < localStorage.length; index++) {
        // localStorage.key获取本地存储的第几个的key
        console.log(localStorage.key(index));
    }
    // localStorage.key------------------------------------------------------



    // sessionStorage提供的方法和属性与localStorage相同
    // 唯一的区别是存储时间和访问域不同
    // localStorage是持久化存储，直到主动删除为止，sessionStorage只存储到浏览器或页面关闭
    // sessionStorage：在同一个浏览器窗口是共享的（不同浏览器、同一个页面也是不共享的）localStorage：在所有同源窗口中都是共享的
    // --------------------------------------------------------------------------
    // localStorage和cookie都能实现在浏览器端存储一些数据，都遵循同源策略，但是区别很大
    // 1.localStorage是前端js代码控制的，而cookie主要由服务端控制
    // 2.cookie中主要存储用户的身份识别信息，所以cookie会附带在请求头中发送。localStorage中存储前端代码的业务逻辑数据。
</script>

</html>