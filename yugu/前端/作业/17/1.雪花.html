<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body{
            overflow: hidden;
        }
    </style>
</head>

<body>

</body>
<script>
    // 思路：随机生成10个img，并同时随机生成10个随机数作为img的宽高，对随机数字进行限定范围
    // 获取到雪花的位置，并通过位置判断是否超出屏幕，超出屏幕后通过位置变为0重新出现，再通过
    // 定时器移动雪花
    document.documentElement.style.height = "100%";
    document.body.style.backgroundColor = "black";
    // document.body.style.position =  "relative";
    document.body.style.height = "100%";

    var sum = 0;
    // 生成雪花
    setInterval(function () {
        for (var i = 0; i < 1; i++) {
            var img = document.createElement("img");
            img.src = "flake.png";
            var num = Math.floor(Math.random() * 60) + 10;
            img.style.width = num + "px";
            img.style.height = num + "px";
            img.style.position = "absolute";
            img.style.left = window.innerWidth*Math.random() + "px";
            // img.style.top = num * 2 + "px";
            sum += num;
            document.body.appendChild(img);
        }
        sum = 0;
    }, 100);

    // 雪花移动像素生成
    // 获取生成的雪花
    var snow = document.getElementsByTagName("img");
    // 每隔一段时间生成一个数字移动一次
    setInterval(function () {
        // var topOffset = Math.floor(Math.random() * 180) + 50;
        var leftOffset = Math.floor(Math.random() * 100) - 50;
        for (var i = 0; i < snow.length; i++) {
            snow[i].style.left = snow[i].offsetLeft + leftOffset + "px";
            snow[i].style.top = snow[i].offsetTop + snow[i].clientHeight + "px";
            console.log(snow[i].style.left.split("px")[0] * 1);
            var bodyWidth = window.innerWidth;
            var bodyHeight = window.innerHeight;
            if (snow[i].style.top.split("px")[0] * 1 > bodyHeight) {
                document.body.removeChild(snow[i]);
            }
        }
    }, 100);


</script>

</html>